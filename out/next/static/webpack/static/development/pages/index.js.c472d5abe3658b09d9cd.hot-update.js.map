{"version":3,"file":"static/webpack/static/development/pages/index.js.c472d5abe3658b09d9cd.hot-update.js","sources":["webpack:///./components/base.js","webpack:///./components/menu.js"],"sourcesContent":["import Rebase from \"re-base\";\nimport firebase from \"firebase/app\";\n\nconst config = {\n    apiKey: \"AIzaSyAgBgLu7ayA70TE7N5rJ1bPu2l37mF5_p0\",\n    authDomain: \"hexacon-a2c50.firebaseapp.com\",\n    databaseURL: \"https://hexacon-a2c50.firebaseio.com\",\n    projectId: \"hexacon-a2c50\",\n    storageBucket: \"hexacon-a2c50.appspot.com\",\n    messagingSenderId: \"983254084201\",\n    appId: \"1:983254084201:web:908e060940110373d1d0f8\",\n    measurementId: \"G-HGCTPKFV6S\"\n};\n\nconst base = Rebase.createClass(firebase.database());\n\nexport default !firebase.apps.length ? firebase.initializeApp(config) : firebase.app();","import Hexagon from 'react-hexagon';\nimport { Box, Column } from 'gestalt';\nimport firebase from \"firebase\";\nimport firebaseApp from \"./base\";\nimport 'gestalt/dist/gestalt.css';\n\nclass Menu extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: null,\n            displayName: null\n        };\n    }\n    //xác thực theo provider\n    authenticate = provider => {\n        const authProvider = new firebase.auth[`${provider}AuthProvider`]();\n        firebaseApp\n        .auth()\n        .signInWithPopup(authProvider)\n        .then(this.authHandler);\n    };\n    \n    //xử lý sau khi xác thực\n    authHandler = async authData => {\n        const user = authData.user;\n        console.log(user)\n        this.setState({\n            email: user.email,\n            displayName: user.displayName\n        });\n    };\n    \n    //đăng xuất\n    logout = async () => {\n        await firebase.auth().signOut();\n        this.setState({ email: null, displayName: null });\n    };\n\n    componentDidMount() {\n        firebase.auth().onAuthStateChanged(user => {\n          if (user) {\n            this.authHandler({ user });\n          }\n        });\n    }\n\n    render() {\n        if (!this.state.email) {\n            return <button onClick={() => this.authenticate(\"Facebook\")}>Facebook</button>\n        }\n        return (\n            <Box>\n                <button onClick={() => this.logout()}>Logout</button>\n                <Box>{this.state.displayName}</Box>\n                <Box>{this.state.email}</Box>\n            </Box>\n        )\n    }\n}\n\nexport default Menu"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AASA;AACA;AAIA;AACA;AAfA;AAiBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAlBA;AA2BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA1BA;AACA;AACA;AAFA;AAFA;AAMA;AACA;AACA;;;AAwBA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;;;;AApDA;AACA;AAsDA;;;;A","sourceRoot":""}